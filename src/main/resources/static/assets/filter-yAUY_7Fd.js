import{V as Ve,m as De}from"./VTextField-C3sPCMKT.js";import{J as se,K as W,L as ue,W as re,X as ie,aW as Pe,a as M,q as z,a7 as xe,S as Ce,aa as j,d as P,F as X,a5 as Te,P as Oe,Q as O,ah as ge,H as Q,T as L,b4 as Le,b5 as Fe,ac as de,au as Ae,a9 as Me,a_ as Re,ab as Ke,b6 as Ee,b7 as He,aG as $e,b8 as ze,ag as ae,B as Ue,Y as oe,b9 as Ne,ba as je,M as We,aY as Ye,ak as ye,al as ve,aT as Qe,a$ as Xe,bb as Ge,b0 as ke,b1 as pe,g as we,v as Je,ax as Ze,ay as Se,bc as qe,n as et,b3 as tt,aH as lt,h as nt,bd as q}from"./index-53ut1aa4.js";import{u as at}from"./VInput-DLSwO6jY.js";import{V as Ie,m as ot}from"./VSelectionControl-nb06iGDz.js";import{V as ut}from"./VChip-CK8SP7y-.js";const rt=W({indeterminate:Boolean,indeterminateIcon:{type:xe,default:"$checkboxIndeterminate"},...ot({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),st=se()({name:"VCheckboxBtn",props:rt(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,n){let{slots:l}=n;const o=ue(e,"indeterminate"),a=ue(e,"modelValue");function f(r){o.value&&(o.value=!1)}const d=re(()=>o.value?e.indeterminateIcon:e.falseIcon),s=re(()=>o.value?e.indeterminateIcon:e.trueIcon);return ie(()=>{const r=Pe(Ie.filterProps(e),["modelValue"]);return M(Ie,z(r,{modelValue:a.value,"onUpdate:modelValue":[h=>a.value=h,f],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:d.value,trueIcon:s.value,"aria-checked":o.value?"mixed":void 0}),l)}),{}}}),it=W({renderless:Boolean,...Te()},"VVirtualScrollItem"),ct=se()({name:"VVirtualScrollItem",inheritAttrs:!1,props:it(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:l,emit:o,slots:a}=n;const{resizeRef:f,contentRect:d}=Ce(void 0,"border");j(()=>{var s;return(s=d.value)==null?void 0:s.height},s=>{s!=null&&o("update:height",s)}),ie(()=>{var s,r;return e.renderless?P(X,null,[(s=a.default)==null?void 0:s.call(a,{itemRef:f})]):P("div",z({ref:f,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(r=a.default)==null?void 0:r.call(a)])})}}),ft=-1,dt=1,me=100,vt=W({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function mt(e,n){const l=Oe(),o=O(0);ge(()=>{o.value=parseFloat(e.itemHeight||0)});const a=O(0),f=O(Math.ceil((parseInt(e.height)||l.height.value)/(o.value||16))||1),d=O(0),s=O(0),r=Q(),h=Q();let i=0;const{resizeRef:T,contentRect:V}=Ce();ge(()=>{T.value=r.value});const m=L(()=>{var t;return r.value===document.documentElement?l.height.value:((t=V.value)==null?void 0:t.height)||parseInt(e.height)||0}),S=L(()=>!!(r.value&&h.value&&m.value&&o.value));let g=Array.from({length:n.value.length}),b=Array.from({length:n.value.length});const y=O(0);let k=-1;function R(t){return g[t]||o.value}const H=Le(()=>{const t=performance.now();b[0]=0;const u=n.value.length;for(let v=1;v<=u-1;v++)b[v]=(b[v-1]||0)+R(v-1);y.value=Math.max(y.value,performance.now()-t)},y),p=j(S,t=>{t&&(p(),i=h.value.offsetTop,H.immediate(),E(),~k&&Me(()=>{Re&&window.requestAnimationFrame(()=>{ne(k),k=-1})}))});Fe(()=>{H.clear()});function ee(t,u){const v=g[t],I=o.value;o.value=I?Math.min(o.value,u):u,(v!==u||I!==o.value)&&(g[t]=u,H())}function B(t){return t=de(t,0,n.value.length-1),b[t]||0}function K(t){return ht(b,t)}let Y=0,U=0,G=0;j(m,(t,u)=>{u&&(E(),t<u&&requestAnimationFrame(()=>{U=0,E()}))});let J=-1;function te(){if(!r.value||!h.value)return;const t=r.value.scrollTop,u=performance.now();u-G>500?(U=Math.sign(t-Y),i=h.value.offsetTop):U=t-Y,Y=t,G=u,window.clearTimeout(J),J=window.setTimeout(N,500),E()}function N(){!r.value||!h.value||(U=0,G=0,window.clearTimeout(J),E())}let le=-1;function E(){cancelAnimationFrame(le),le=requestAnimationFrame(ce)}function ce(){if(!r.value||!m.value)return;const t=Y-i,u=Math.sign(U),v=Math.max(0,t-me),I=de(K(v),0,n.value.length),D=t+m.value+me,c=de(K(D)+1,I+1,n.value.length);if((u!==ft||I<a.value)&&(u!==dt||c>f.value)){const F=B(a.value)-B(I),A=B(c)-B(f.value);Math.max(F,A)>me?(a.value=I,f.value=c):(I<=0&&(a.value=I),c>=n.value.length&&(f.value=c))}d.value=B(a.value),s.value=B(n.value.length)-B(f.value)}function ne(t){const u=B(t);!r.value||t&&!u?k=t:r.value.scrollTop=u}const fe=L(()=>n.value.slice(a.value,f.value).map((t,u)=>{const v=u+a.value;return{raw:t,index:v,key:Ae(t,e.itemKey,v)}}));return j(n,()=>{g=Array.from({length:n.value.length}),b=Array.from({length:n.value.length}),H.immediate(),E()},{deep:1}),{calculateVisibleItems:E,containerRef:r,markerRef:h,computedItems:fe,paddingTop:d,paddingBottom:s,scrollToIndex:ne,handleScroll:te,handleScrollend:N,handleItemResize:ee}}function ht(e,n){let l=e.length-1,o=0,a=0,f=null,d=-1;if(e[l]<n)return l;for(;o<=l;)if(a=o+l>>1,f=e[a],f>n)l=a-1;else if(f<n)d=a,o=a+1;else return f===n?a:o;return d}const gt=W({items:{type:Array,default:()=>[]},renderless:Boolean,...vt(),...Te(),...Ne()},"VVirtualScroll"),yt=se()({name:"VVirtualScroll",props:gt(),setup(e,n){let{slots:l}=n;const o=Ke("VVirtualScroll"),{dimensionStyles:a}=Ee(e),{calculateVisibleItems:f,containerRef:d,markerRef:s,handleScroll:r,handleScrollend:h,handleItemResize:i,scrollToIndex:T,paddingTop:V,paddingBottom:m,computedItems:S}=mt(e,re(()=>e.items));return He(()=>e.renderless,()=>{function g(){var k,R;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";d.value===document.documentElement?(document[y]("scroll",r,{passive:!0}),document[y]("scrollend",h)):((k=d.value)==null||k[y]("scroll",r,{passive:!0}),(R=d.value)==null||R[y]("scrollend",h))}$e(()=>{d.value=ze(o.vnode.el,!0),g(!0)}),Fe(g)}),ie(()=>{const g=S.value.map(b=>M(ct,{key:b.key,renderless:e.renderless,"onUpdate:height":y=>i(b.index,y)},{default:y=>{var k;return(k=l.default)==null?void 0:k.call(l,{item:b.raw,index:b.index,...y})}}));return e.renderless?P(X,null,[P("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:ae(V.value)}},null),g,P("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ae(m.value)}},null)]):P("div",{ref:d,class:oe(["v-virtual-scroll",e.class]),onScrollPassive:r,onScrollend:h,style:Ue([a.value,e.style])},[P("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:ae(V.value),paddingBottom:ae(m.value)}},[g])])}),{calculateVisibleItems:f,scrollToIndex:T}}});function bt(e,n){const l=O(!1);let o;function a(s){cancelAnimationFrame(o),l.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{l.value=!1})})}async function f(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const r=j(l,()=>{r(),s()})}else s()})}async function d(s){var i,T;if(s.key==="Tab"&&((i=n.value)==null||i.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const r=(T=e.value)==null?void 0:T.$el;if(!r)return;(s.key==="Home"||s.key==="End")&&r.scrollTo({top:s.key==="Home"?0:r.scrollHeight,behavior:"smooth"}),await f();const h=r.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const V=r.getBoundingClientRect().top;for(const m of h)if(m.getBoundingClientRect().top>=V){m.focus();break}}else{const V=r.getBoundingClientRect().bottom;for(const m of[...h].reverse())if(m.getBoundingClientRect().bottom<=V){m.focus();break}}}return{onScrollPassive:a,onKeydown:d}}const Vt=W({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:xe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...je({itemChildren:!1})},"Select"),kt=W({...Vt(),...Pe(De({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Xe({transition:{component:Ge}})},"VSelect"),Tt=se()({name:"VSelect",props:kt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:l}=n;const{t:o}=We(),a=Q(),f=Q(),d=Q(),{items:s,transformIn:r,transformOut:h}=Ye(e),i=ue(e,"modelValue",[],t=>r(t===null?[null]:ye(t)),t=>{const u=h(t);return e.multiple?u:u[0]??null}),T=L(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),V=at(e),m=L(()=>i.value.map(t=>t.value)),S=O(!1);let g="",b=-1,y;const k=L(()=>e.hideSelected?s.value.filter(t=>!i.value.some(u=>(e.valueComparator||ve)(u,t))):s.value),R=L(()=>e.hideNoData&&!k.value.length||V.isReadonly.value||V.isDisabled.value),H=ue(e,"menu"),p=L({get:()=>H.value,set:t=>{var u;H.value&&!t&&((u=f.value)!=null&&u.Î¨openChildren.size)||t&&R.value||(H.value=t)}}),ee=re(()=>p.value?e.closeText:e.openText),B=L(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),K=Q(),Y=bt(K,a);function U(t){e.openOnClear&&(p.value=!0)}function G(){R.value||(p.value=!p.value)}function J(t){ke(t)&&te(t)}function te(t){var C,$,x;if(!t.key||V.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(p.value=!0),["Escape","Tab"].includes(t.key)&&(p.value=!1),t.key==="Home"?(C=K.value)==null||C.focus("first"):t.key==="End"&&(($=K.value)==null||$.focus("last"));const u=1e3;if(!ke(t))return;const v=performance.now();v-y>u&&(g="",b=-1),g+=t.key.toLowerCase(),y=v;const I=k.value;function D(){let w=c();return w||g.at(-1)===g.at(-2)&&(g=g.slice(0,-1),w=c(),w)||(b=-1,w=c(),w)?w:(g=t.key.toLowerCase(),c())}function c(){for(let w=b+1;w<I.length;w++){const Z=I[w];if(Z.title.toLowerCase().startsWith(g))return[Z,w]}}const F=D();if(!F)return;const[A,_]=F;b=_,(x=K.value)==null||x.focus(_),e.multiple||(i.value=[A])}function N(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const v=i.value.findIndex(D=>(e.valueComparator||ve)(D.value,t.value)),I=u??!~v;if(~v){const D=I?[...i.value,t]:[...i.value];D.splice(v,1),i.value=D}else I&&(i.value=[...i.value,t])}else{const v=u!==!1;i.value=v?[t]:[],Me(()=>{p.value=!1})}}function le(t){var u;(u=K.value)!=null&&u.$el.contains(t.relatedTarget)||(p.value=!1)}function E(){var t;e.eager&&((t=d.value)==null||t.calculateVisibleItems())}function ce(){var t;S.value&&((t=a.value)==null||t.focus())}function ne(t){S.value=!0}function fe(t){if(t==null)i.value=[];else if(pe(a.value,":autofill")||pe(a.value,":-webkit-autofill")){const u=s.value.find(v=>v.title===t);u&&N(u)}else a.value&&(a.value.value="")}return j(p,()=>{if(!e.hideSelected&&p.value&&i.value.length){const t=k.value.findIndex(u=>i.value.some(v=>(e.valueComparator||ve)(v.value,u.value)));Re&&window.requestAnimationFrame(()=>{var u;t>=0&&((u=d.value)==null||u.scrollToIndex(t))})}}),j(()=>e.items,(t,u)=>{p.value||S.value&&!u.length&&t.length&&(p.value=!0)}),ie(()=>{const t=!!(e.chips||l.chip),u=!!(!e.hideNoData||k.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),v=i.value.length>0,I=Ve.filterProps(e),D=v||!S.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return M(Ve,z({ref:a},I,{modelValue:i.value.map(c=>c.props.value).join(", "),"onUpdate:modelValue":fe,focused:S.value,"onUpdate:focused":c=>S.value=c,validationValue:i.externalValue,counterValue:T.value,dirty:v,class:["v-select",{"v-select--active-menu":p.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":i.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:D,"onClick:clear":U,"onMousedown:control":G,onBlur:le,onKeydown:te,"aria-label":o(ee.value),title:o(ee.value)}),{...l,default:()=>P(X,null,[M(Je,z({ref:f,modelValue:p.value,"onUpdate:modelValue":c=>p.value=c,activator:"parent",contentClass:"v-select__content",disabled:R.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:E,onAfterLeave:ce},B.value),{default:()=>[u&&M(Ze,z({ref:K,selected:m.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onKeydown:J,onFocusin:ne,tabindex:"-1","aria-live":"polite","aria-label":`${e.label}-list`,color:e.itemColor??e.color},Y,e.listProps),{default:()=>{var c,F,A;return[(c=l["prepend-item"])==null?void 0:c.call(l),!k.value.length&&!e.hideNoData&&(((F=l["no-data"])==null?void 0:F.call(l))??M(Se,{key:"no-data",title:o(e.noDataText)},null)),M(yt,{ref:d,renderless:!0,items:k.value,itemKey:"value"},{default:_=>{var be;let{item:C,index:$,itemRef:x}=_;const w=qe(C.props),Z=z(C.props,{ref:x,key:C.value,onClick:()=>N(C,null)});return((be=l.item)==null?void 0:be.call(l,{item:C,index:$,props:Z}))??M(Se,z(Z,{role:"option"}),{prepend:_e=>{let{isSelected:Be}=_e;return P(X,null,[e.multiple&&!e.hideSelected?M(st,{key:C.value,modelValue:Be,ripple:!1,tabindex:"-1"},null):void 0,w.prependAvatar&&M(et,{image:w.prependAvatar},null),w.prependIcon&&M(we,{icon:w.prependIcon},null)])}})}}),(A=l["append-item"])==null?void 0:A.call(l)]}})]}),i.value.map((c,F)=>{function A(x){x.stopPropagation(),x.preventDefault(),N(c,!1)}const _={"onClick:close":A,onKeydown(x){x.key!=="Enter"&&x.key!==" "||(x.preventDefault(),x.stopPropagation(),A(x))},onMousedown(x){x.preventDefault(),x.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},C=t?!!l.chip:!!l.selection,$=C?tt(t?l.chip({item:c,index:F,props:_}):l.selection({item:c,index:F})):void 0;if(!(C&&!$))return P("div",{key:c.value,class:"v-select__selection"},[t?l.chip?M(lt,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:c.title}}},{default:()=>[$]}):M(ut,z({key:"chip",closable:e.closableChips,size:"small",text:c.title,disabled:c.props.disabled},_),null):$??P("span",{class:"v-select__selection-text"},[c.title,e.multiple&&F<i.value.length-1&&P("span",{class:"v-select__selection-comma"},[nt(",")])])])})]),"append-inner":function(){var _,C;for(var c=arguments.length,F=new Array(c),A=0;A<c;A++)F[A]=arguments[A];return P(X,null,[(_=l["append-inner"])==null?void 0:_.call(l,...F),e.menuIcon?M(we,{class:"v-select__menu-icon",color:(C=a.value)==null?void 0:C.fieldIconColor,icon:e.menuIcon},null):void 0])}})}),Qe({isFocused:S,menu:p,select:N},a)}}),pt=(e,n,l)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const o=[];let a=e.indexOf(n);for(;~a;)o.push([a,a+n.length]),a=e.indexOf(n,a+n.length);return o.length?o:-1};function he(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const Ft=W({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function wt(e,n,l){var s;const o=[],a=(l==null?void 0:l.default)??pt,f=l!=null&&l.filterKeys?ye(l.filterKeys):!1,d=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return o;e:for(let r=0;r<e.length;r++){const[h,i=h]=ye(e[r]),T={},V={};let m=-1;if((n||d>0)&&!(l!=null&&l.noFilter)){if(typeof h=="object"){const b=f||Object.keys(i);for(const y of b){const k=Ae(i,y),R=(s=l==null?void 0:l.customKeyFilter)==null?void 0:s[y];if(m=R?R(k,n,h):a(k,n,h),m!==-1&&m!==!1)R?T[y]=he(m,n):V[y]=he(m,n);else if((l==null?void 0:l.filterMode)==="every")continue e}}else m=a(h,n,h),m!==-1&&m!==!1&&(V.title=he(m,n));const S=Object.keys(V).length,g=Object.keys(T).length;if(!S&&!g||(l==null?void 0:l.filterMode)==="union"&&g!==d&&!S||(l==null?void 0:l.filterMode)==="intersection"&&(g!==d||!S))continue}o.push({index:r,matches:{...V,...T}})}return o}function At(e,n,l,o){const a=O([]),f=O(new Map),d=L(()=>o!=null&&o.transform?q(n).map(r=>[r,o.transform(r)]):q(n));ge(()=>{const r=typeof l=="function"?l():q(l),h=typeof r!="string"&&typeof r!="number"?"":String(r),i=wt(d.value,h,{customKeyFilter:{...e.customKeyFilter,...q(o==null?void 0:o.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),T=q(n),V=[],m=new Map;i.forEach(S=>{let{index:g,matches:b}=S;const y=T[g];V.push(y),m.set(y.value,b)}),a.value=V,f.value=m});function s(r){return f.value.get(r.value)}return{filteredItems:a,filteredMatches:f,getMatches:s}}function Mt(e,n,l){return l==null||!l.length?n:l.map((o,a)=>{const f=a===0?0:l[a-1][1],d=[P("span",{class:oe(`${e}__unmask`)},[n.slice(f,o[0])]),P("span",{class:oe(`${e}__mask`)},[n.slice(o[0],o[1])])];return a===l.length-1&&d.push(P("span",{class:oe(`${e}__unmask`)},[n.slice(o[1])])),P(X,null,[d])})}export{Tt as V,st as a,bt as b,Vt as c,yt as d,Mt as h,Ft as m,At as u};
