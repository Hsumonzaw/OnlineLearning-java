var C=Object.defineProperty;var L=(t,e,r)=>e in t?C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var g=(t,e,r)=>L(t,typeof e!="symbol"?e+"":e,r);import{_ as M}from"./PhotoUser-WXFrMJM7.js";import{i as $,_ as P,c as S,w as l,e as f,o as x,a,f as d,d as o,j as y,F as U,k as O,B as A,t as n,p as m,g as k,h as u,D as T,m as D,v as B,q as I,u as N,s as F,x as q,A as _}from"./index-53ut1aa4.js";import{V as j}from"./VTable-CZhqfiFM.js";import{V as z,a as Y}from"./VDatePicker-BhS8khmY.js";import{V as c}from"./VTextField-C3sPCMKT.js";import{V as v}from"./VAutocomplete-CoJCvEhZ.js";import{V as G}from"./VDialog-0H5vlJ4f.js";import{V as R}from"./VBottomSheet-DvdFTA1z.js";import{f as w}from"./format-CBpsKyOP.js";import"./UserAccountService-6cOQmFSE.js";import"./VInput-DLSwO6jY.js";import"./filter-yAUY_7Fd.js";import"./VSelectionControl-nb06iGDz.js";import"./VChip-CK8SP7y-.js";class H{constructor(){g(this,"axios");this.axios=$}getExamList(){return this.axios.get("/examans").then(r=>r.data)}addExamList(e){return this.axios.post("/examans",e).then(i=>i.data)}updateLanguage(e){let r=`/examans/${e.examansId}`;return this.axios.put(r,e).then(i=>i.data)}deleteLanguage(e){let r=`/examans/${e.examansId}`;return this.axios.delete(r).then(i=>i.data)}}const h=new H,J={data:()=>({selectedOne:{},saveOrupdate:"SAVE",startMenu:!1,exam:{},statusTypeList:["PENDING","DONE"],examList:[],startPicker:new Date}),props:{},mounted:function(){this.examListMethod()},methods:{deleteExamMethod:function(t){this.selectedOne=t,this.dialogDelete=!0},editExam:function(t){this.saveOrupdate="UPDATE",this.exam=Object.assign({},t)},formatDate(t){const[e,r,i]=t.split("-");return`${i}-${r}-${e}`},examListMethod(){h.getExamList().then(t=>{this.examList.splice(0),this.examList.push(...t)}).catch(t=>{})},saveExam:function(){this.exam.startDate=w(this.startPicker,"dd-MM-yyyy"),this.saveOrupdate=="SAVE"?h.addExam(this.exam).then(t=>{this.exam={},this.examListMethod(),this.$swal({icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1e3})}).catch(t=>{this.$swal("Fail!",t.response.data.message,"error")}):h.updateExam(this.exam).then(t=>{this.saveOrupdate="SAVE",this.exam={},this.examListMethod(),this.$swal({icon:"success",title:"Your work has been updated",showConfirmButton:!1,timer:1e3})}).catch(t=>{this.$swal("Fail!",t.response.data.message,"error")})}},watch:{startPicker(){this.startMenu=!1,this.exam.startDate=w(this.startPicker,"dd-MM-yyyy")}},components:{}},K=["onClick"],Q={class:"text-center"},W={class:"text-center"},X={class:"text-center"},Z={class:"text-center"},ee={class:"text-start"},te={class:"text-start"},ae={class:"text-center"};function se(t,e,r,i,le,b){const E=M;return x(),S(f,{"no-gutters":""},{default:l(()=>[a(d,{cols:"8",md:"8"},{default:l(()=>[a(j,{"fixed-header":"",height:"92vh",density:"compact"},{default:l(()=>[e[15]||(e[15]=o("thead",null,[o("tr",null,[o("th",{class:"text-center white--text bg-primary"},"No."),o("th",{class:"text-center white--text bg-primary"},"Courses Id"),o("th",{class:"text-center white--text bg-primary"},"pdf"),o("th",{class:"text-center white--text bg-primary"},"Exam Mark"),o("th",{class:"text-center white--text bg-primary"},"Date"),o("th",{class:"text-center white--text bg-primary"},"Status"),o("th",{class:"text-center white--text bg-primary"},"Action")])],-1)),o("tbody",null,[(x(!0),y(U,null,O(t.examList,(s,p)=>(x(),y("tr",{key:p,onClick:V=>t.selectedOne=s,style:A({backgroundColor:s.examansId==t.selectedOne.examansId?"#def3ff":"transparent"})},[o("td",Q,n(p+1),1),o("td",W,n(s.coursesDto.coursesId),1),o("td",X,n(s.pdf),1),o("td",Z,n(s.examMark),1),o("td",ee,n(s.date),1),o("td",te,n(s.status),1),o("td",ae,[a(m,{class:"ml-1",small:"",icon:"",color:"green",density:"compact"},{default:l(()=>[a(k,{size:"small",onClick:V=>b.editExam(s)},{default:l(()=>e[13]||(e[13]=[u("mdi-pencil")])),_:2,__:[13]},1032,["onClick"])]),_:2},1024),a(m,{class:"ml-1",small:"",icon:"",color:"red",density:"compact"},{default:l(()=>[a(k,{size:"small",onClick:V=>t.deleteCoursesMethod(s)},{default:l(()=>e[14]||(e[14]=[u("mdi-delete")])),_:2,__:[14]},1032,["onClick"])]),_:2},1024)])],12,K))),128)),a(T)])]),_:1})]),_:1}),a(d,{cols:"4",md:"4",class:"pl-2"},{default:l(()=>[a(f,{class:"align-center login-full","no-gutters":""},{default:l(()=>[a(d,null,{default:l(()=>[a(D,{variant:"outlined",class:"mr-2 pl-2 pr-2"},{default:l(()=>[a(f,{"no-gutters":"",class:"pa-2"},{default:l(()=>[a(d,{cols:"12",md:"12"},{default:l(()=>[a(B,{modelValue:t.startMenu,"onUpdate:modelValue":e[2]||(e[2]=s=>t.startMenu=s),"full-width":"","max-width":"290px","min-width":"290px","close-on-content-click":!1},{activator:l(({props:s})=>[a(c,I({modelValue:t.exam.startDate,"onUpdate:modelValue":e[0]||(e[0]=p=>t.exam.startDate=p),density:"compact",variant:"outlined",label:"Start Date",readonly:""},s),null,16,["modelValue"])]),default:l(()=>[a(z,{modelValue:t.startPicker,"onUpdate:modelValue":e[1]||(e[1]=s=>t.startPicker=s),color:"primary","hide-header":""},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),a(d,{cols:"12",md:"12"},{default:l(()=>[a(v,{modelValue:t.exam.coursesDto,"onUpdate:modelValue":e[3]||(e[3]=s=>t.exam.coursesDto=s),items:t.examList,"item-text":"courses","item-title":"courses","item-value":"courses",label:"Course Name","return-object":"",dense:"",outlined:"",rules:[s=>!!s||"exam is required"]},null,8,["modelValue","items","rules"])]),_:1}),a(d,{cols:"12",md:"12"},{default:l(()=>[a(c,{label:"PDF File",modelValue:t.exam.pdf,"onUpdate:modelValue":e[4]||(e[4]=s=>t.exam.pdf=s),rules:[s=>!!s||"required"],density:"compact",variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",md:"12"},{default:l(()=>[a(c,{type:"number",label:"Exam Mark",modelValue:t.exam.examMark,"onUpdate:modelValue":e[5]||(e[5]=s=>t.exam.examMark=s),rules:[s=>!!s||"required"],density:"compact",variant:"outlined"},null,8,["modelValue","rules"])]),_:1}),a(d,{cols:"12",md:"12"},{default:l(()=>[a(v,{modelValue:t.exam.status,"onUpdate:modelValue":e[6]||(e[6]=s=>t.exam.status=s),"item-text":"Status","item-title":"Status",items:t.statusTypeList,label:"Status Type","return-object":"",required:"",density:"compact",variant:"outlined",filled:""},null,8,["modelValue","items"])]),_:1}),a(d,{cols:"12",md:"12",class:"text-right mb-2"},{default:l(()=>[a(m,{color:"primary ",onClick:e[7]||(e[7]=s=>t.saveExamans())},{default:l(()=>[u(n(t.saveOrupdate),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(d,null,{default:l(()=>[a(G,{modelValue:t.dialogDelete,"onUpdate:modelValue":e[10]||(e[10]=s=>t.dialogDelete=s),width:"500"},{default:l(()=>[a(D,null,{default:l(()=>[a(N,{class:"text-h5 white--text bg-red"},{default:l(()=>e[16]||(e[16]=[u(" Delete ")])),_:1,__:[16]}),a(F,{class:"text-h6"},{default:l(()=>[u(" Are you sure to delete("+n(t.selectedOne.name)+")? ",1)]),_:1}),a(q,null,{default:l(()=>[a(_),a(m,{class:"black",text:"",onClick:e[8]||(e[8]=s=>t.dialogDelete=!1)},{default:l(()=>e[17]||(e[17]=[u(" CANCEL ")])),_:1,__:[17]}),a(m,{dark:"",class:"bg-red",text:"",onClick:e[9]||(e[9]=s=>t.clickDeleteDialog())},{default:l(()=>e[18]||(e[18]=[u(" DELETE ")])),_:1,__:[18]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(d,null,{default:l(()=>[a(R,{modelValue:t.userPhotoDialog,"onUpdate:modelValue":e[12]||(e[12]=s=>t.userPhotoDialog=s),fullscreen:"",scrollable:""},{default:l(()=>[a(Y,{class:"information-window-v-sheet"},{default:l(()=>[a(E,{onCloseDialog:e[11]||(e[11]=s=>t.userPhotoDialog=!1),user:t.selectedOne,onLoadUserList:t.loadUserList},null,8,["user","onLoadUserList"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const ke=P(J,[["render",se],["__scopeId","data-v-a8d72b87"]]);export{ke as default};
